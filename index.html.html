<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OORDA BUS</title>
  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", sans-serif;
      background: linear-gradient(135deg, #fdfbfb, #ebedee);
      color: #333;
    }
    header {
      background: linear-gradient(90deg, #ff512f, #dd2476);
      color: white;
      text-align: center;
      padding: 30px 15px;
      font-size: 2rem;
      font-weight: bold;
      letter-spacing: 2px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.3);
      text-shadow: 2px 2px 6px rgba(0,0,0,0.4);
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 15px;
    }
    header img {
      height: 50px;
      filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.4));
    }
    .subtitle {
      text-align: center;
      font-size: 1.2rem;
      font-weight: bold;
      margin-top: 5px;
      color: #444;
    }
    .tabs {
      display: flex;
      justify-content: center;
      background: #222;
    }
    .tab {
      flex: 1;
      padding: 15px;
      text-align: center;
      color: white;
      cursor: pointer;
      font-weight: bold;
      transition: transform 0.2s, background 0.3s;
    }
    .tab:hover {
      transform: translateY(-2px);
    }
    .tab.active {
      background: linear-gradient(90deg, #36d1dc, #5b86e5);
      box-shadow: inset 0 -3px 8px rgba(0,0,0,0.4);
    }
    .content {
      display: none;
      padding: 25px;
      animation: fadeIn 0.5s ease-in-out;
    }
    .content.active {
      display: block;
    }
    @keyframes fadeIn {
      from {opacity: 0;}
      to {opacity: 1;}
    }
    .search-box {
      margin: 15px auto;
      max-width: 400px;
      display: flex;
      justify-content: center;
    }
    .search-box input {
      width: 100%;
      padding: 12px;
      border: none;
      border-radius: 50px;
      font-size: 1rem;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      outline: none;
      transition: all 0.3s ease;
    }
    .search-box input:focus {
      box-shadow: 0 4px 15px rgba(0,150,255,0.5);
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
      background: white url('https://www.transparenttextures.com/patterns/gplay.png');
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 6px 20px rgba(0,0,0,0.15);
    }
    th, td {
      padding: 14px;
      text-align: center;
      border-bottom: 1px solid #eee;
      font-size: 1rem;
    }
    th {
      background: linear-gradient(90deg, #36d1dc, #5b86e5);
      color: white;
      font-size: 1.1rem;
      text-shadow: 1px 1px 4px rgba(0,0,0,0.3);
    }
    tr:nth-child(even) {
      background: #f9f9f9;
    }
    tr:hover {
      background: #f1faff;
      transform: scale(1.01);
      transition: all 0.2s ease;
    }
    td img {
      height: 22px;
      margin-right: 6px;
      vertical-align: middle;
    }
    .highlight {
      background: #ffe680 !important;
      font-weight: bold;
      color: #d35400;
      box-shadow: inset 0 0 10px rgba(255,200,50,0.7);
    }
    footer {
      text-align: center;
      padding: 15px;
      background: #222;
      color: white;
      margin-top: 20px;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>

<header>
  <img src="https://img.icons8.com/color/96/000000/bus.png" alt="Bus Icon">
  OORDA BUS
</header>

<div class="subtitle">by Abhijith Acharya & Vishikha Keshava</div>

<div class="tabs">
  <div class="tab active" onclick="openTab('kulai')">Kulai â†’ NITK</div>
  <div class="tab" onclick="openTab('nitk')">NITK â†’ Kulai</div>
</div>

<div class="search-box">
  <input type="text" id="searchInput" onkeyup="searchTable()" placeholder="ðŸ” Search bus or time...">
</div>

<!-- Kulai â†’ NITK -->
<div id="kulai" class="content active">
  <table id="kulaiTable">
    <tr><th>Time</th><th>Bus</th></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">7:35 AM</td><td>Sidhi Vinayaka</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">7:55 AM</td><td>Sidhi Vinayaka</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">8:45 AM</td><td>Sidhi Vinayaka</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">9:08 AM</td><td>Teena</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">9:15 AM</td><td>Didar</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">9:32 AM</td><td>Sidhi Vinayaka</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">10:00 AM</td><td>Sidhi Vinayaka</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">10:06 AM</td><td>2no Bus</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">10:55 AM</td><td>Sidhi Vinayaka</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">12:29 PM</td><td>Sidhi Vinayaka</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">1:09 PM</td><td>Sidhi Vinayaka</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">2:58 PM</td><td>Sidhi Vinayaka</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">5:20 PM</td><td>Didar</td></tr>
  </table>
</div>

<!-- NITK â†’ Kulai -->
<div id="nitk" class="content">
  <table id="nitkTable">
    <tr><th>Time</th><th>Bus</th></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">11:15 AM</td><td>Sidhi Vinayaka</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">12:00 PM</td><td>Sidhi Vinayaka</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">12:42 PM</td><td>Sidhi Vinayaka</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">1:07 PM</td><td>Sidhi Vinayaka</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">4:50 PM</td><td>Sidhi Vinayaka</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">5:02 PM</td><td>Kateeleshwari</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">5:05 PM</td><td>Sidhi Vinayaka</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">5:40 PM</td><td>Sidhi Vinayaka</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">5:45 PM</td><td>Didar</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">7:00 PM</td><td>Sidhi Vinayaka</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">7:40 PM</td><td>Nandini</td></tr>
    <tr><td><img src="https://img.icons8.com/fluency/48/000000/clock.png">8:00 PM</td><td>Express</td></tr>
  </table>
</div>

<footer>Â© 2025 OORDA BUS | Created by Abhijith Acharya & Vishikha Keshava</footer>

<script>
  // Switch tabs
  function openTab(tabName) {
    let tabs = document.getElementsByClassName("content");
    let buttons = document.getElementsByClassName("tab");
    for (let i = 0; i < tabs.length; i++) {
      tabs[i].classList.remove("active");
      buttons[i].classList.remove("active");
    }
    document.getElementById(tabName).classList.add("active");
    event.target.classList.add("active");
    highlightNextBus(tabName);
  }

  // Search filter
  function searchTable() {
    let input = document.getElementById("searchInput").value.toLowerCase();
    let tables = document.querySelectorAll("table");
    tables.forEach(table => {
      let rows = table.getElementsByTagName("tr");
      for (let i = 1; i < rows.length; i++) {
        let rowText = rows[i].innerText.toLowerCase();
        rows[i].style.display = rowText.includes(input) ? "" : "none";
      }
    });
  }

  // Highlight next bus
  function highlightNextBus(tabName) {
    let now = new Date();
    let currentHour = now.getHours();
    let currentMin = now.getMinutes();

    let table = document.getElementById(tabName + "Table");
    let rows = table.getElementsByTagName("tr");

    for (let i = 1; i < rows.length; i++) {
      rows[i].classList.remove("highlight");
      let timeStr = rows[i].cells[0].innerText;
      let timeMatch = timeStr.match(/(\d{1,2}):(\d{2})\s?(AM|PM)/i);
      if (timeMatch) {
        let hour = parseInt(timeMatch[1]);
        let min = parseInt(timeMatch[2]);
        let period = timeMatch[3].toUpperCase();
        if (period === "PM" && hour < 12) hour += 12;
        if (period === "AM" && hour === 12) hour = 0;

        if (hour > currentHour || (hour === currentHour && min > currentMin)) {
          rows[i].classList.add("highlight");
          break;
        }
      }
    }
  }

  // Run highlight on load
  window.onload = function() {
    highlightNextBus("kulai");
  };
</script>

</body>
</html>
